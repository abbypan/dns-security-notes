#  一种递归查询域名信息隐藏方案

现行DNS解析架构下，DNS隐私重构方案的核心基本围绕递归服务器展开。重点递归服务器覆盖的用户范围，以及对加密、认证、数据隐藏的支持程度，决定了整体隐私保护的强度。

用户侧到递归的链路隐私问题可以通过DNSCrypt方案得到相对合理的解决。递归到上层权威的隐私问题，除了已有的域名层次最小化方案，还可以参考TTL调整主动热点域名查询、全局域名的混杂查询及主动缓存方案，隐藏热点域名信息。顶级域名权威服务查询源IP、二级域名均表现出明显的长尾特征，此时，如果递归侧根据历史缓存信息进行主动查询，则此时域名查询是相对均衡的分布，而非自然的业务访问特征与TTL自然过期的长尾表现。

例如，构建一种递归针对顶级域的信息隐藏方案：

1. 递归接收来自客户端的域名查询请求
2. 递归记录一段时间内（例如1~5天）所有来自客户端查询的二级域名NS信息
3. 递归以预先配置的时间间隔（例如1小时~6小时）定期主动向顶级域查询二级域名的NS信息
4. 递归根据已获取的二级域名NS信息更新自身缓存

理论上的好处：能够有效避免顶级域对某些重点递归的业务访问的热点域名以及TTL进行特征学习，从而进一步减少该递归服务器的某些特殊长尾域名的隐私泄露风险。能够在现有的 DNS 解析架构下进行，减少递归向外部顶级域的信息泄露。

产品上不实用的原因：适用于某些个特殊递归，绝大部分递归没有义务与动机去部署。
